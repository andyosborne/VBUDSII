%Convert Chi

load CHIDATA

%convert to 1grp/decade values
j=0;
for i=1:1:5
   Chinew(i)=sum(Chi( 10*(i-1) + 1 : 10*i,2));  %  Chinew(i)=sum(Chi( 100*(i-1) + 1 : 100*i,2));
end



%Datareview
'Hydrogen - not bound'
H1_3_1_600
H1_3_2_600
H1_6_2_600
H1_6_221_600
H1_0_2_600
H1_3_102_600

Check_1=[sum(H1_0_2_600,1)', H1_3_2_600, sum(H1_0_2_600,1)' - H1_3_2_600] 
Check_2=[H1_3_1_600,sum(H1_0_2_600,1)'+H1_3_102_600,H1_3_1_600-sum(H1_0_2_600,1)'-H1_3_102_600]
 %H1_3_1_600-H1_3_2_600-H1_3_102_600

'Hydrogen - bound'
H1w_3_1_600
H1w_3_2_600
H1w_6_2_600
H1w_6_222_600
H1w_0_2_600
H1w_3_102_600

Check_1=[sum(H1_0_2_600,1)', H1_3_2_600, sum(H1_0_2_600,1)' - H1_3_2_600] 
Check_2=[H1_3_1_600,sum(H1_0_2_600,1)'+H1_3_102_600,H1_3_1_600-sum(H1_0_2_600,1)'-H1_3_102_600]
 %H1_3_1_600-H1_3_2_600-H1_3_102_600
 
 'OXYGEN' 
O16_3_1_600
O16_3_2_600
O16_6_2_600
O16_6_221_600
O16_0_2_600
O16_3_4_600
O16_3_102_600

Check_1=[sum(O16_0_2_600,1)', O16_3_2_600, sum(O16_0_2_600,1)' - O16_3_2_600] 
Check_2=[O16_3_1_600, ...
    sum(O16_0_2_600,1)'+O16_3_102_600+O16_3_4_600, ...
    O16_3_1_600-sum(O16_0_2_600,1)'-O16_3_102_600-O16_3_4_600]

 
 'Uranium 235' 
U235_3_1_600
U235_3_2_600
U235_6_2_600
U235_6_221_600
U235_0_2_600
U235_3_4_600=U235_3_4_600(2:end)
U235_3_18_600
U235_3_102_600
U235_3_452_600

Check_1=[sum(U235_0_2_600,1)', U235_3_2_600, sum(U235_0_2_600,1)' - U235_3_2_600] 
Check_2=[U235_3_1_600, ...
         sum(U235_0_2_600,1)'+U235_3_102_600+U235_3_4_600+U235_3_18_600, ...
         U235_3_1_600-( sum(U235_0_2_600,1)'+U235_3_102_600+U235_3_4_600+U235_3_18_600 )]
 %U235_3_1_600-U235_3_2_600-U235_3_102_600
 
  'Uranium 238' 
U238_3_1_600
U238_3_2_600
U238_6_2_600
U238_6_221_600
U238_0_2_600
U238_3_4_600=U238_3_4_600(2:end)
U238_3_18_600
U238_3_102_600
U238_3_452_600

Check_1=[sum(U238_0_2_600,1)', U238_3_2_600, sum(U238_0_2_600,1)' - U238_3_2_600] 
Check_2=[U238_3_1_600, ...
         sum(U238_0_2_600,1)'+U238_3_102_600+U238_3_4_600+U238_3_18_600, ...
         U238_3_1_600-( sum(U238_0_2_600,1)'+U238_3_102_600+U238_3_4_600+U238_3_18_600 )]
 %U238_3_1_600-U238_3_2_600-U238_3_102_600
 
%%
 'water with binding'   %'water (without binding)'
 load water             %falsewater
 
H2O_3_1_600
H2O_0_2_600
H2O_3_102_600
                        %H2O_3_4_600=O16_3_4_600
%H2O_6_251_600

Check_2 = [ H2O_3_1_600, ...
    sum(H2O_0_2_600,1)'+H2O_3_102_600 + H2O_3_4_600, ...
    H2O_3_1_600-sum(H2O_0_2_600,1)'- H2O_3_102_600 - H2O_3_4_600]    

 
%% Data plotting review
[X,Y]=spectral;
kinf=1/Y(1,1)
phi=X(:,1)
plot(abs(phi),'*-');
xlabel('<-- 0.1 mev            energy bins [10^{(n-4)} ev]             10 Mev -->')
ylabel('phi')

load sigma
SigmaT
NuSigmaF
SigmaS








%% 100 group cross section testing

hold off, a=40, plot(((sum(U238_6_221_600(:,1:a),1))-U238_3_221_600(1:a)')./U238_3_221_600(1:a)')

 plot(sum(U238_6_221_600(:,1:40),1)), hold on, plot(U238_3_221_600,'r')
 
 plot(sum(U238_6_2_600,1)), hold on, plot(U238_3_2_600,'r')
 plot(U238_3_221_600), hold on, plot(U238_3_2_600,'r')
 
 
